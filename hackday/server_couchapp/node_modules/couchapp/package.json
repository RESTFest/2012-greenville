{
  "name": "couchapp",
  "description": "Utilities for building CouchDB applications.",
  "tags": [
    "couchdb",
    "webframework"
  ],
  "version": "0.9.1",
  "author": {
    "name": "Mikeal Rogers",
    "email": "mikeal.rogers@gmail.com"
  },
  "engines": [
    "node >= 0.1.95"
  ],
  "main": "./main",
  "dependencies": {
    "watch": "*",
    "request": "*"
  },
  "bin": {
    "couchapp": "./bin.js"
  },
  "readme": "# Installation\n\nInstall node.\n\nInstall npm.\n\n<pre>\n$ git clone repo\n$ cd node.couchapp.js\n$ npm install\n$ npm link .\n</pre>\n\n<pre>\n$ couchapp help\ncouchapp -- utility for creating couchapps\n\nUsage:\n  couchapp &lt;command> app.js http://localhost:5984/dbname\n\nCommands:\n  push : Push app once to server.\n  sync : Push app then watch local files for changes.\n</pre>\n\napp.js example:\n\n<pre>\n  var couchapp = require('couchapp')\n    , path = require('path');\n\n  ddoc = {\n      _id: '_design/app'\n    , views: {}\n    , lists: {}\n    , shows: {} \n  }\n\n  module.exports = ddoc;\n\n  ddoc.views.byType = {\n    map: function(doc) {\n      emit(doc.type, null);\n    },\n    reduce: '_count'\n  }\n\n  ddoc.views.peopleByName = {\n    map: function(doc) {\n      if(doc.type == 'person') {\n        emit(doc.name, null);\n      }\n    }\n  }\n\n  ddoc.lists.people = function(head, req) {\n    start({\n      headers: {\"Content-type\": \"text/html\"}\n    });\n    send(\"&lt;ul id='people'>\\n\");\n    while(row = getRow()) {\n      send(\"\\t&lt;li class='person name'>\" + row.key + \"&lt;/li>\\n\");\n    }\n    send(\"&lt;/ul>\\n\")\n  }\n\n  ddoc.shows.person = function(doc, req) {\n    return {\n      headers: {\"Content-type\": \"text/html\"},\n      body: \"&lt;h1 id='person' class='name'>\" + doc.name + \"&lt;/h1>\\n\"\n    }\n  }\n  \n  ddoc.validate_doc_update = function (newDoc, oldDoc, userCtx) {\n    function require(field, message) {\n      message = message || \"Document must have a \" + field;\n      if (!newDoc[field]) throw({forbidden : message});\n    };\n\n    if (newDoc.type == \"person\") {\n      require(\"name\");\n    }\n  }\n\n  couchapp.loadAttachments(ddoc, path.join(__dirname, '_attachments'));\n</pre>\n",
  "_id": "couchapp@0.9.1",
  "_from": "couchapp"
}
